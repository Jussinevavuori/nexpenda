# Migration `20210624120550-update_stripe_product`

This migration has been generated by Jussi at 6/24/2021, 3:05:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "product_prices" ALTER COLUMN "recurring_interval" SET DATA TYPE TEXT
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210624120513-stripe_products_and_prices..20210624120550-update_stripe_product
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // Each user is connected to a user account, which contains their ID, login
 // details and other authentication details. The user account may also specify
@@ -99,8 +99,16 @@
   @@map(name: "transaction_schedules")
 }
+// Possible interval types for transaction schedules
+enum IntervalType {
+  DAY
+  WEEK
+  MONTH
+  YEAR
+}
+
 // All budgets are used to analyze transactions and measure if their sum
 // exceed the set limit in integerAmount. A budget only measures transactions
 // that belong to categories specified by the budget category inclusiosn field.
 model Budget {
@@ -220,26 +228,18 @@
 }
 // Copies of stripe prices
 model ProductPrice {
-  id                String       @id
-  productId         String       @map("product_id")
+  id                String   @id
+  productId         String   @map("product_id")
   active            Boolean
   currency          String
   nickname          String
   type              String
-  recurringInterval IntervalType @map("recurring_interval")
-  createdAt         DateTime     @default(now()) @map("created_at")
-  updatedAt         DateTime     @default(now()) @updatedAt @map("updated_at")
+  recurringInterval String   @map("recurring_interval")
+  createdAt         DateTime @default(now()) @map("created_at")
+  updatedAt         DateTime @default(now()) @updatedAt @map("updated_at")
   Product Product @relation(fields: [productId], references: [id])
   @@map(name: "product_prices")
 }
-
-// Possible interval types for transaction schedules
-enum IntervalType {
-  DAY
-  WEEK
-  MONTH
-  YEAR
-}
```


