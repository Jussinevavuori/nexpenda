# Migration `20210623142837-make_subscription_uid_unique`

This migration has been generated by Jussi at 6/23/2021, 5:28:37 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER INDEX "subscriptions_uid_unique" RENAME TO "subscriptions.uid_unique"
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210623142704-add_subscriptions..20210623142837-make_subscription_uid_unique
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource postgresql {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 // Each user is connected to a user account, which contains their ID, login
 // details and other authentication details. The user account may also specify
@@ -196,9 +196,9 @@
 // Subscriptions
 model Subscription {
   id               String              @id
-  uid              String
+  uid              String              @unique
   product          SubscribableProduct
   currentPeriodEnd DateTime            @map("current_period_end")
   createdAt        DateTime            @default(now()) @map("created_at")
   updatedAt        DateTime            @default(now()) @updatedAt @map("updated_at")
```


